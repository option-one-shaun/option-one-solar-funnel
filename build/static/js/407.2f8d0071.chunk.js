"use strict";(self.webpackChunkoption_one_solar_funnel=self.webpackChunkoption_one_solar_funnel||[]).push([[407],{407(e,a,r){r.r(a),r.d(a,{default:()=>l});var i=r(555),s=r(43),t=r(579);const l=e=>{var a,r;let{leadData:l,updateLeadData:o,onPrev:n,onComplete:m}=e;const[c,d]=(0,s.useState)({}),[h,u]=(0,s.useState)(!1),p=(e,a)=>{o({[e]:a}),c[e]&&d(a=>(0,i.A)((0,i.A)({},a),{},{[e]:null}))};return(0,t.jsx)("div",{className:"form-section",children:(0,t.jsxs)("div",{className:"card",children:[(0,t.jsx)("h2",{children:"Get Your Free Solar Quote"}),(0,t.jsx)("p",{children:"We're ready to provide your detailed solar proposal. Just need a few contact details to get started."}),(0,t.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!(()=>{var e,a,r,i;const s={};return null!==(e=l.firstName)&&void 0!==e&&e.trim()||(s.firstName="First name is required"),null!==(a=l.lastName)&&void 0!==a&&a.trim()||(s.lastName="Last name is required"),null!==(r=l.email)&&void 0!==r&&r.trim()||(s.email="Email is required"),null!==(i=l.phone)&&void 0!==i&&i.trim()||(s.phone="Phone number is required"),l.contactTime||(s.contactTime="Preferred contact time is required"),l.contactMethod||(s.contactMethod="Preferred contact method is required"),l.timeline||(s.timeline="Installation timeline is required"),l.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l.email)&&(s.email="Please enter a valid email address"),l.phone&&!/^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/.test(l.phone)&&(s.phone="Please enter a valid phone number"),d(s),0===Object.keys(s).length})()){const e=Object.keys(c)[0],a=document.querySelector('[name="'.concat(e,'"]'));return void(a&&a.focus())}u(!0);try{if(!(await fetch("/api/submit-lead",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)})).ok)throw new Error("Submission failed");m()}catch(a){console.error("Error submitting form:",a),alert("There was an error submitting your information. Please try again.")}finally{u(!1)}},children:[(0,t.jsxs)("div",{className:"form-grid form-grid-2",children:[(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{className:"form-label",htmlFor:"firstName",children:"First Name *"}),(0,t.jsx)("input",{id:"firstName",name:"firstName",type:"text",className:"form-input",value:l.firstName||"",onChange:e=>p("firstName",e.target.value),placeholder:"John",autoComplete:"given-name","aria-invalid":c.firstName?"true":"false","aria-describedby":c.firstName?"firstName-error":void 0}),c.firstName&&(0,t.jsx)("div",{id:"firstName-error",className:"error-message",role:"alert","aria-live":"polite",children:c.firstName})]}),(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{className:"form-label",htmlFor:"lastName",children:"Last Name *"}),(0,t.jsx)("input",{id:"lastName",name:"lastName",type:"text",className:"form-input",value:l.lastName||"",onChange:e=>p("lastName",e.target.value),placeholder:"Smith",autoComplete:"family-name","aria-invalid":c.lastName?"true":"false","aria-describedby":c.lastName?"lastName-error":void 0}),c.lastName&&(0,t.jsx)("div",{id:"lastName-error",className:"error-message",role:"alert","aria-live":"polite",children:c.lastName})]})]}),(0,t.jsxs)("div",{className:"form-grid form-grid-2",children:[(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{className:"form-label",htmlFor:"email",children:"Email Address *"}),(0,t.jsx)("input",{id:"email",name:"email",type:"email",className:"form-input",value:l.email||"",onChange:e=>p("email",e.target.value),autoComplete:"email",inputMode:"email",spellCheck:!1,"aria-invalid":c.email?"true":"false","aria-describedby":c.email?"email-error":void 0,placeholder:"john.smith@email.com"}),c.email&&(0,t.jsx)("div",{id:"email-error",className:"error-message",role:"alert","aria-live":"polite",children:c.email})]}),(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{className:"form-label",htmlFor:"phone",children:"Phone Number *"}),(0,t.jsx)("input",{id:"phone",name:"phone",type:"tel",className:"form-input",value:l.phone||"",onChange:e=>p("phone",e.target.value),placeholder:"(555) 123-4567",autoComplete:"tel",inputMode:"tel","aria-invalid":c.phone?"true":"false","aria-describedby":c.phone?"phone-error":void 0}),c.phone&&(0,t.jsx)("div",{id:"phone-error",className:"error-message",role:"alert","aria-live":"polite",children:c.phone})]})]}),(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{className:"form-label",children:"Best time to contact you? *"}),(0,t.jsxs)("select",{className:"form-select",value:l.contactTime||"",onChange:e=>p("contactTime",e.target.value),children:[(0,t.jsx)("option",{value:"",children:"Select preferred time"}),(0,t.jsx)("option",{value:"morning",children:"Morning (8am - 12pm)"}),(0,t.jsx)("option",{value:"afternoon",children:"Afternoon (12pm - 5pm)"}),(0,t.jsx)("option",{value:"evening",children:"Evening (5pm - 8pm)"}),(0,t.jsx)("option",{value:"anytime",children:"Anytime"})]}),c.contactTime&&(0,t.jsx)("div",{className:"error-message",children:c.contactTime})]}),(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{className:"form-label",children:"How would you prefer to be contacted? *"}),(0,t.jsxs)("select",{className:"form-select",value:l.contactMethod||"",onChange:e=>p("contactMethod",e.target.value),children:[(0,t.jsx)("option",{value:"",children:"Select contact method"}),(0,t.jsx)("option",{value:"phone",children:"Phone call"}),(0,t.jsx)("option",{value:"text",children:"Text message"}),(0,t.jsx)("option",{value:"email",children:"Email"}),(0,t.jsx)("option",{value:"any",children:"Any method"})]}),c.contactMethod&&(0,t.jsx)("div",{className:"error-message",children:c.contactMethod})]}),(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{className:"form-label",children:"When are you looking to install solar? *"}),(0,t.jsxs)("select",{className:"form-select",value:l.timeline||"",onChange:e=>p("timeline",e.target.value),children:[(0,t.jsx)("option",{value:"",children:"Select timeline"}),(0,t.jsx)("option",{value:"asap",children:"As soon as possible"}),(0,t.jsx)("option",{value:"1-3-months",children:"1-3 months"}),(0,t.jsx)("option",{value:"3-6-months",children:"3-6 months"}),(0,t.jsx)("option",{value:"6-12-months",children:"6-12 months"}),(0,t.jsx)("option",{value:"exploring",children:"Just exploring options"})]}),c.timeline&&(0,t.jsx)("div",{className:"error-message",children:c.timeline})]}),(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{className:"form-label",children:"Additional Comments or Questions (Optional)"}),(0,t.jsx)("textarea",{className:"form-input",value:l.comments||"",onChange:e=>p("comments",e.target.value),placeholder:"Any specific questions about solar installation or financing?",rows:"4",style:{minHeight:"100px",resize:"vertical"}})]}),(0,t.jsxs)("div",{style:{background:"var(--light-background)",padding:"1.5rem",borderRadius:"0.75rem",margin:"2rem 0"},children:[(0,t.jsx)("h4",{style:{marginBottom:"1rem",color:"var(--primary-dark)"},children:"\ud83d\udccb Your Solar Summary"}),(0,t.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:"Estimated 25-Year Savings:"}),(0,t.jsx)("br",{}),(0,t.jsxs)("span",{style:{color:"var(--success-green)",fontSize:"1.125rem",fontWeight:"600"},children:["$",(null===(a=l.estimatedSavings)||void 0===a?void 0:a.toLocaleString())||"0"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:"System Size:"}),(0,t.jsx)("br",{}),(0,t.jsxs)("span",{style:{color:"var(--blue-accent)"},children:[l.systemSize||"0"," kW"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:"Investment After Tax Credit:"}),(0,t.jsx)("br",{}),(0,t.jsxs)("span",{style:{color:"var(--primary-dark)"},children:["$",(null===(r=l.investmentCost)||void 0===r?void 0:r.toLocaleString())||"0"]})]})]})]}),(0,t.jsxs)("div",{style:{background:"#f8f9fa",padding:"1rem",borderRadius:"0.5rem",fontSize:"0.875rem",color:"var(--text-gray)",marginBottom:"2rem"},children:[(0,t.jsx)("p",{style:{marginBottom:"0.75rem"},children:(0,t.jsx)("strong",{children:"What happens next:"})}),(0,t.jsxs)("ul",{style:{marginLeft:"1rem",lineHeight:1.6},children:[(0,t.jsx)("li",{children:"One of our solar specialists will contact you within 24 hours"}),(0,t.jsx)("li",{children:"We'll schedule a free home assessment at your convenience"}),(0,t.jsx)("li",{children:"You'll receive a detailed proposal with exact pricing and savings"}),(0,t.jsx)("li",{children:"No pressure - take your time to review everything"})]})]}),(0,t.jsx)("div",{style:{fontSize:"0.75rem",color:"var(--text-gray)",marginBottom:"2rem",textAlign:"center"},children:"By submitting this form, you consent to Option One Solar contacting you about solar installation services. We respect your privacy and will never sell your information to third parties. You can opt out at any time."}),(0,t.jsxs)("div",{className:"form-navigation",children:[(0,t.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:n,children:"\u2190 Back to Savings"}),(0,t.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:h,children:h?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"spinner",style:{width:"1rem",height:"1rem",marginRight:"0.5rem"}}),"Submitting..."]}):"Get My Free Quote! \ud83c\udf89"})]})]})]})})}}}]);
//# sourceMappingURL=407.2f8d0071.chunk.js.map